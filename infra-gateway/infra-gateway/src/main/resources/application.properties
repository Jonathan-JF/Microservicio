server.port=8080
spring.application.name=infra-gateway
spring.main.web-application-type=reactive

# Conexión con Eureka
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/

# Rutas (Routes) - React llama a /auth/... y /api/productos/...
# Ruta para MS-AUTH
spring.cloud.gateway.routes[0].id=ms-auth
spring.cloud.gateway.routes[0].uri=lb://ms-auth
spring.cloud.gateway.routes[0].predicates[0]=Path=/auth/**

# Ruta para MS-TIENDA
spring.cloud.gateway.routes[1].id=ms-tienda
spring.cloud.gateway.routes[1].uri=lb://ms-tienda
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/**

# Configuración CORS (Vital para que React no falle)
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-origins=http://localhost:5173
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowed-headers=*