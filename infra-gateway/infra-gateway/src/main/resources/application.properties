# Puerto del Gateway
server.port=8080
spring.application.name=infra-gateway

# Registro en Eureka
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/

# --- CONFIGURACIÓN DE RUTAS ---
# Ruta para Autenticación (Login y Registro) - FIX: Debe ir primero y ser más específico
# Fija el path /api/auth/** para el microservicio ms-auth
spring.cloud.gateway.routes[0].id=ms-auth
spring.cloud.gateway.routes[0].uri=lb://ms-auth
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/auth/**

# Ruta para la Tienda (Productos y Boletas)
# Fija el path /api/** para el microservicio ms-tienda
spring.cloud.gateway.routes[1].id=ms-tienda
spring.cloud.gateway.routes[1].uri=lb://ms-tienda
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/**

# --- CONFIGURACIÓN CORS (Para que React no de error 403) ---
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedOrigins=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedMethods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedHeaders=*